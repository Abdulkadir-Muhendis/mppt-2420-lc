EESchema Schematic File Version 2
LIBS:LibreSolar
LIBS:IEC60617
LIBS:device
LIBS:power
LIBS:linear
LIBS:logo
LIBS:conn
LIBS:ESD_Protection
LIBS:transistors
LIBS:regul
LIBS:dc-dc
LIBS:74xgxx
LIBS:74xx
LIBS:ac-dc
LIBS:actel
LIBS:adc-dac
LIBS:Altera
LIBS:analog_devices
LIBS:analog_switches
LIBS:atmel
LIBS:audio
LIBS:battery_management
LIBS:bbd
LIBS:brooktre
LIBS:cmos_ieee
LIBS:cmos4000
LIBS:contrib
LIBS:cypress
LIBS:digital-audio
LIBS:diode
LIBS:display
LIBS:dsp
LIBS:elec-unifil
LIBS:ftdi
LIBS:gennum
LIBS:graphic
LIBS:hc11
LIBS:intel
LIBS:interface
LIBS:ir
LIBS:Lattice
LIBS:maxim
LIBS:memory
LIBS:microchip
LIBS:microchip_dspic33dsc
LIBS:microchip_pic10mcu
LIBS:microchip_pic12mcu
LIBS:microchip_pic16mcu
LIBS:microchip_pic18mcu
LIBS:microchip_pic32mcu
LIBS:microcontrollers
LIBS:motor_drivers
LIBS:motorola
LIBS:msp430
LIBS:nordicsemi
LIBS:nxp_armmcu
LIBS:onsemi
LIBS:opto
LIBS:Oscillators
LIBS:philips
LIBS:Power_Management
LIBS:powerint
LIBS:pspice
LIBS:references
LIBS:relays
LIBS:rfcom
LIBS:sensors
LIBS:silabs
LIBS:siliconi
LIBS:stm8
LIBS:stm32
LIBS:supertex
LIBS:switches
LIBS:texas
LIBS:transf
LIBS:ttl_ieee
LIBS:valves
LIBS:video
LIBS:Worldsemi
LIBS:Xicor
LIBS:xilinx
LIBS:Zilog
LIBS:SymbolsSimilarEN60617_oldDIN617-RevC-en
LIBS:MPPT_charger_20A-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 3 5
Title "MPPT Charger 20A"
Date "2017-03-06"
Rev "0.7"
Comp "Libre Solar"
Comment1 "Author: Martin JÃ¤ger"
Comment2 "Website: http://libre.solar"
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L LM4040 D6
U 1 1 58A66599
P 7500 5400
F 0 "D6" H 7575 5450 50  0000 L CNN
F 1 "LM4040CYM3-2.5" H 7575 5350 50  0000 L CNN
F 2 "TO_SOT_Packages_SMD:SOT-23" H 7500 5400 60  0001 C CNN
F 3 "" H 7500 5400 60  0001 C CNN
F 4 "Microchip" H 200 -50 50  0001 C CNN "MFR"
F 5 "LM4040DYM3-2.5-TR" H 200 -50 50  0001 C CNN "MPN"
	1    7500 5400
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR023
U 1 1 58A8CE31
P 7700 2200
F 0 "#PWR023" H 7700 2050 50  0001 C CNN
F 1 "+3.3V" H 7700 2340 50  0000 C CNN
F 2 "" H 7700 2200 50  0000 C CNN
F 3 "" H 7700 2200 50  0000 C CNN
	1    7700 2200
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR024
U 1 1 58A8D04B
P 8700 1925
F 0 "#PWR024" H 8700 1775 50  0001 C CNN
F 1 "+3.3V" H 8700 2065 50  0000 C CNN
F 2 "" H 8700 1925 50  0000 C CNN
F 3 "" H 8700 1925 50  0000 C CNN
	1    8700 1925
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR025
U 1 1 58A8D5E6
P 5100 4500
F 0 "#PWR025" H 5100 4250 50  0001 C CNN
F 1 "GND" H 5100 4350 50  0000 C CNN
F 2 "" H 5100 4500 50  0000 C CNN
F 3 "" H 5100 4500 50  0000 C CNN
	1    5100 4500
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR026
U 1 1 58A8D6E3
P 5450 4500
F 0 "#PWR026" H 5450 4250 50  0001 C CNN
F 1 "GND" H 5450 4350 50  0000 C CNN
F 2 "" H 5450 4500 50  0000 C CNN
F 3 "" H 5450 4500 50  0000 C CNN
	1    5450 4500
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR027
U 1 1 58A8D77B
P 5800 4500
F 0 "#PWR027" H 5800 4250 50  0001 C CNN
F 1 "GND" H 5800 4350 50  0000 C CNN
F 2 "" H 5800 4500 50  0000 C CNN
F 3 "" H 5800 4500 50  0000 C CNN
	1    5800 4500
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR028
U 1 1 58A8D813
P 6150 4500
F 0 "#PWR028" H 6150 4250 50  0001 C CNN
F 1 "GND" H 6150 4350 50  0000 C CNN
F 2 "" H 6150 4500 50  0000 C CNN
F 3 "" H 6150 4500 50  0000 C CNN
	1    6150 4500
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR029
U 1 1 58A8D8AB
P 1450 2100
F 0 "#PWR029" H 1450 1850 50  0001 C CNN
F 1 "GND" H 1450 1950 50  0000 C CNN
F 2 "" H 1450 2100 50  0000 C CNN
F 3 "" H 1450 2100 50  0000 C CNN
	1    1450 2100
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR030
U 1 1 58A8DF29
P 5100 4100
F 0 "#PWR030" H 5100 3950 50  0001 C CNN
F 1 "+3.3V" H 5100 4240 50  0000 C CNN
F 2 "" H 5100 4100 50  0000 C CNN
F 3 "" H 5100 4100 50  0000 C CNN
	1    5100 4100
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR031
U 1 1 58A8E026
P 5450 4100
F 0 "#PWR031" H 5450 3950 50  0001 C CNN
F 1 "+3.3V" H 5450 4240 50  0000 C CNN
F 2 "" H 5450 4100 50  0000 C CNN
F 3 "" H 5450 4100 50  0000 C CNN
	1    5450 4100
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR032
U 1 1 58A8E0BE
P 5800 4100
F 0 "#PWR032" H 5800 3950 50  0001 C CNN
F 1 "+3.3V" H 5800 4240 50  0000 C CNN
F 2 "" H 5800 4100 50  0000 C CNN
F 3 "" H 5800 4100 50  0000 C CNN
	1    5800 4100
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR033
U 1 1 58A8E156
P 6150 4100
F 0 "#PWR033" H 6150 3950 50  0001 C CNN
F 1 "+3.3V" H 6150 4240 50  0000 C CNN
F 2 "" H 6150 4100 50  0000 C CNN
F 3 "" H 6150 4100 50  0000 C CNN
	1    6150 4100
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR034
U 1 1 58A8F194
P 2100 4900
F 0 "#PWR034" H 2100 4650 50  0001 C CNN
F 1 "GND" H 2100 4750 50  0000 C CNN
F 2 "" H 2100 4900 50  0000 C CNN
F 3 "" H 2100 4900 50  0000 C CNN
	1    2100 4900
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR035
U 1 1 58A8F584
P 5150 1650
F 0 "#PWR035" H 5150 1400 50  0001 C CNN
F 1 "GND" H 5150 1500 50  0000 C CNN
F 2 "" H 5150 1650 50  0000 C CNN
F 3 "" H 5150 1650 50  0000 C CNN
	1    5150 1650
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR036
U 1 1 58A910CE
P 7500 5600
F 0 "#PWR036" H 7500 5350 50  0001 C CNN
F 1 "GND" H 7500 5450 50  0000 C CNN
F 2 "" H 7500 5600 50  0000 C CNN
F 3 "" H 7500 5600 50  0000 C CNN
	1    7500 5600
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR037
U 1 1 58A91352
P 7500 4800
F 0 "#PWR037" H 7500 4650 50  0001 C CNN
F 1 "+3.3V" H 7500 4940 50  0000 C CNN
F 2 "" H 7500 4800 50  0000 C CNN
F 3 "" H 7500 4800 50  0000 C CNN
	1    7500 4800
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR038
U 1 1 58A918EA
P 10100 5500
F 0 "#PWR038" H 10100 5250 50  0001 C CNN
F 1 "GND" H 10100 5350 50  0000 C CNN
F 2 "" H 10100 5500 50  0000 C CNN
F 3 "" H 10100 5500 50  0000 C CNN
	1    10100 5500
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR039
U 1 1 58A91B30
P 9500 5500
F 0 "#PWR039" H 9500 5250 50  0001 C CNN
F 1 "GND" H 9500 5350 50  0000 C CNN
F 2 "" H 9500 5500 50  0000 C CNN
F 3 "" H 9500 5500 50  0000 C CNN
	1    9500 5500
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR040
U 1 1 58A94580
P 1950 2000
F 0 "#PWR040" H 1950 1850 50  0001 C CNN
F 1 "+3.3V" H 1950 2140 50  0000 C CNN
F 2 "" H 1950 2000 50  0000 C CNN
F 3 "" H 1950 2000 50  0000 C CNN
	1    1950 2000
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR041
U 1 1 58A94885
P 1000 1600
F 0 "#PWR041" H 1000 1450 50  0001 C CNN
F 1 "+3.3V" H 1000 1740 50  0000 C CNN
F 2 "" H 1000 1600 50  0000 C CNN
F 3 "" H 1000 1600 50  0000 C CNN
	1    1000 1600
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR042
U 1 1 58A95F90
P 5100 2800
F 0 "#PWR042" H 5100 2550 50  0001 C CNN
F 1 "GND" H 5100 2650 50  0000 C CNN
F 2 "" H 5100 2800 50  0000 C CNN
F 3 "" H 5100 2800 50  0000 C CNN
	1    5100 2800
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR043
U 1 1 58A9602F
P 5700 2800
F 0 "#PWR043" H 5700 2550 50  0001 C CNN
F 1 "GND" H 5700 2650 50  0000 C CNN
F 2 "" H 5700 2800 50  0000 C CNN
F 3 "" H 5700 2800 50  0000 C CNN
	1    5700 2800
	1    0    0    -1  
$EndComp
$Comp
L L L4
U 1 1 58A97504
P 1200 1700
F 0 "L4" H 1200 1770 50  0000 C CNN
F 1 "L" H 1200 1650 50  0000 C CNN
F 2 "Inductors_SMD:L_0603" V 1200 1700 50  0001 C CNN
F 3 "" V 1200 1700 50  0000 C CNN
F 4 "Murata" H -750 500 50  0001 C CNN "MFR"
F 5 "BLM18AG601SN1D" H -750 500 50  0001 C CNN "MPN"
F 6 "" H -750 500 50  0001 C CNN "SPR"
F 7 "" H -750 500 50  0001 C CNN "SPN"
F 8 "" H -750 500 50  0001 C CNN "SPURL"
	1    1200 1700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR044
U 1 1 58AB7879
P 7300 3200
F 0 "#PWR044" H 7300 2950 50  0001 C CNN
F 1 "GND" H 7300 3050 50  0000 C CNN
F 2 "" H 7300 3200 50  0000 C CNN
F 3 "" H 7300 3200 50  0000 C CNN
	1    7300 3200
	1    0    0    -1  
$EndComp
$Comp
L C C29
U 1 1 58AB7F87
P 7300 2900
F 0 "C29" H 7320 2970 50  0000 L CNN
F 1 "100n" H 7320 2830 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 7300 2900 50  0001 C CNN
F 3 "" H 7300 2900 50  0000 C CNN
F 4 "Murata" H 50  0   50  0001 C CNN "MFR"
F 5 "GRM188R71H104KA93D" H 50  0   50  0001 C CNN "MPN"
F 6 "" H 50  0   50  0001 C CNN "SPR"
F 7 "" H 50  0   50  0001 C CNN "SPN"
F 8 "" H 50  0   50  0001 C CNN "SPURL"
	1    7300 2900
	1    0    0    -1  
$EndComp
$Comp
L C C30
U 1 1 58AB8568
P 5100 4300
F 0 "C30" H 5120 4370 50  0000 L CNN
F 1 "100n" H 5120 4230 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 5100 4300 50  0001 C CNN
F 3 "" H 5100 4300 50  0000 C CNN
F 4 "Murata" H 3700 -1200 50  0001 C CNN "MFR"
F 5 "GRM188R71H104KA93D" H 3700 -1200 50  0001 C CNN "MPN"
F 6 "" H 3700 -1200 50  0001 C CNN "SPR"
F 7 "" H 3700 -1200 50  0001 C CNN "SPN"
F 8 "" H 3700 -1200 50  0001 C CNN "SPURL"
	1    5100 4300
	1    0    0    -1  
$EndComp
$Comp
L C C31
U 1 1 58AB8BE5
P 5450 4300
F 0 "C31" H 5470 4370 50  0000 L CNN
F 1 "100n" H 5470 4230 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 5450 4300 50  0001 C CNN
F 3 "" H 5450 4300 50  0000 C CNN
F 4 "Murata" H 3700 -1200 50  0001 C CNN "MFR"
F 5 "GRM188R71H104KA93D" H 3700 -1200 50  0001 C CNN "MPN"
F 6 "" H 3700 -1200 50  0001 C CNN "SPR"
F 7 "" H 3700 -1200 50  0001 C CNN "SPN"
F 8 "" H 3700 -1200 50  0001 C CNN "SPURL"
	1    5450 4300
	1    0    0    -1  
$EndComp
$Comp
L C C32
U 1 1 58AB8D4F
P 5800 4300
F 0 "C32" H 5820 4370 50  0000 L CNN
F 1 "100n" H 5820 4230 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 5800 4300 50  0001 C CNN
F 3 "" H 5800 4300 50  0000 C CNN
F 4 "Murata" H 3700 -1200 50  0001 C CNN "MFR"
F 5 "GRM188R71H104KA93D" H 3700 -1200 50  0001 C CNN "MPN"
F 6 "" H 3700 -1200 50  0001 C CNN "SPR"
F 7 "" H 3700 -1200 50  0001 C CNN "SPN"
F 8 "" H 3700 -1200 50  0001 C CNN "SPURL"
	1    5800 4300
	1    0    0    -1  
$EndComp
$Comp
L C C34
U 1 1 58AB8FDB
P 1450 1900
F 0 "C34" H 1475 1975 50  0000 L CNN
F 1 "100n" H 1475 1825 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 1450 1900 50  0001 C CNN
F 3 "" H 1450 1900 50  0000 C CNN
F 4 "Murata" H -750 500 50  0001 C CNN "MFR"
F 5 "GRM188R71H104KA93D" H -750 500 50  0001 C CNN "MPN"
F 6 "" H -750 500 50  0001 C CNN "SPR"
F 7 "" H -750 500 50  0001 C CNN "SPN"
F 8 "" H -750 500 50  0001 C CNN "SPURL"
	1    1450 1900
	1    0    0    -1  
$EndComp
$Comp
L C C33
U 1 1 58AB9291
P 6150 4300
F 0 "C33" H 6170 4370 50  0000 L CNN
F 1 "2.2u" H 6170 4230 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 6150 4300 50  0001 C CNN
F 3 "" H 6150 4300 50  0000 C CNN
F 4 "Murata" H 3700 -1200 50  0001 C CNN "MFR"
F 5 "GRM188R60J225KE19D" H 3700 -1200 50  0001 C CNN "MPN"
F 6 "" H 3700 -1200 50  0001 C CNN "SPR"
F 7 "" H 3700 -1200 50  0001 C CNN "SPN"
F 8 "" H 3700 -1200 50  0001 C CNN "SPURL"
	1    6150 4300
	1    0    0    -1  
$EndComp
$Comp
L C C28
U 1 1 58AB9A03
P 5700 2600
F 0 "C28" H 5720 2670 50  0000 L CNN
F 1 "4.3p" H 5720 2530 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 5700 2600 50  0001 C CNN
F 3 "" H 5700 2600 50  0000 C CNN
F 4 "Murata" H -350 150 50  0001 C CNN "MFR"
F 5 "GRM1885C1H4R3CA01D" H -350 150 50  0001 C CNN "MPN"
F 6 "" H -350 150 50  0001 C CNN "SPR"
F 7 "" H -350 150 50  0001 C CNN "SPN"
F 8 "" H -350 150 50  0001 C CNN "SPURL"
	1    5700 2600
	1    0    0    -1  
$EndComp
$Comp
L C C27
U 1 1 58AB9D23
P 5100 2600
F 0 "C27" H 5120 2670 50  0000 L CNN
F 1 "4.3p" H 5120 2530 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 5100 2600 50  0001 C CNN
F 3 "" H 5100 2600 50  0000 C CNN
F 4 "Murata" H -350 150 50  0001 C CNN "MFR"
F 5 "GRM1885C1H4R3CA01D" H -350 150 50  0001 C CNN "MPN"
F 6 "" H -350 150 50  0001 C CNN "SPR"
F 7 "" H -350 150 50  0001 C CNN "SPN"
F 8 "" H -350 150 50  0001 C CNN "SPURL"
	1    5100 2600
	1    0    0    -1  
$EndComp
$Comp
L R R30
U 1 1 58ABA3EB
P 4800 2300
F 0 "R30" V 4730 2300 50  0000 C CNN
F 1 "0" V 4870 2300 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" H 4800 2300 50  0001 C CNN
F 3 "" H 4800 2300 50  0000 C CNN
F 4 "Yageo" H -200 250 50  0001 C CNN "MFR"
F 5 "RC0603FR-070RL" H -200 250 50  0001 C CNN "MPN"
F 6 "" H -200 250 50  0001 C CNN "SPR"
F 7 "" H -200 250 50  0001 C CNN "SPN"
F 8 "" H -200 250 50  0001 C CNN "SPURL"
	1    4800 2300
	0    1    1    0   
$EndComp
$Comp
L R R42
U 1 1 58ADF91D
P 9500 5000
F 0 "R42" V 9425 5000 50  0000 C CNN
F 1 "330" V 9575 5000 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" H 9500 5000 50  0001 C CNN
F 3 "" H 9500 5000 50  0000 C CNN
F 4 "Yageo" H 0   100 50  0001 C CNN "MFR"
F 5 "RC0603FR-07330RL" H 0   100 50  0001 C CNN "MPN"
F 6 "" H 0   100 50  0001 C CNN "SPR"
F 7 "" H 0   100 50  0001 C CNN "SPN"
F 8 "" H 0   100 50  0001 C CNN "SPURL"
	1    9500 5000
	1    0    0    1   
$EndComp
$Comp
L R R43
U 1 1 58ADFCF1
P 10100 5000
F 0 "R43" V 10030 5000 50  0000 C CNN
F 1 "330" V 10170 5000 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" H 10100 5000 50  0001 C CNN
F 3 "" H 10100 5000 50  0000 C CNN
F 4 "Yageo" H -200 100 50  0001 C CNN "MFR"
F 5 "RC0603FR-07330RL" H -200 100 50  0001 C CNN "MPN"
F 6 "" H -200 100 50  0001 C CNN "SPR"
F 7 "" H -200 100 50  0001 C CNN "SPN"
F 8 "" H -200 100 50  0001 C CNN "SPURL"
	1    10100 5000
	1    0    0    1   
$EndComp
$Comp
L LED LED2
U 1 1 58AE11BD
P 10100 5300
AR Path="/58AE11BD" Ref="LED2"  Part="1" 
AR Path="/58A68DCB/58AE11BD" Ref="LED2"  Part="1" 
F 0 "LED2" H 10225 5350 50  0000 L CNN
F 1 "LED" H 10225 5250 50  0000 L CNN
F 2 "LEDs:LED_D3.0mm" V 10100 5300 50  0001 C CNN
F 3 "" V 10100 5300 50  0000 C CNN
	1    10100 5300
	1    0    0    -1  
$EndComp
$Comp
L R R37
U 1 1 58AE1DE5
P 7500 5000
F 0 "R37" V 7430 5000 50  0000 C CNN
F 1 "10k" V 7570 5000 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" H 7500 5000 50  0001 C CNN
F 3 "" H 7500 5000 50  0000 C CNN
F 4 "Yageo" H 200 125 50  0001 C CNN "MFR"
F 5 "RC0603FR-07150KL" H 200 125 50  0001 C CNN "MPN"
F 6 "" H 200 125 50  0001 C CNN "SPR"
F 7 "" H 200 125 50  0001 C CNN "SPN"
F 8 "" H 200 125 50  0001 C CNN "SPURL"
	1    7500 5000
	1    0    0    1   
$EndComp
$Comp
L R R41
U 1 1 58AE2393
P 8700 2500
F 0 "R41" V 8630 2500 50  0000 C CNN
F 1 "2.2k" V 8770 2500 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" H 8700 2500 50  0001 C CNN
F 3 "" H 8700 2500 50  0000 C CNN
F 4 "Yageo" H -50 -25 50  0001 C CNN "MFR"
F 5 "RC0603FR-072K2L" H -50 -25 50  0001 C CNN "MPN"
F 6 "" H -50 -25 50  0001 C CNN "SPR"
F 7 "" H -50 -25 50  0001 C CNN "SPN"
F 8 "" H -50 -25 50  0001 C CNN "SPURL"
	1    8700 2500
	1    0    0    1   
$EndComp
$Comp
L R R39
U 1 1 58AE2797
P 8700 2100
F 0 "R39" V 8630 2100 50  0000 C CNN
F 1 "1M" V 8770 2100 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" H 8700 2100 50  0001 C CNN
F 3 "" H 8700 2100 50  0000 C CNN
F 4 "Yageo" H -50 25  50  0001 C CNN "MFR"
F 5 "RC0603FR-071ML" H -50 25  50  0001 C CNN "MPN"
F 6 "" H -50 25  50  0001 C CNN "SPR"
F 7 "" H -50 25  50  0001 C CNN "SPN"
F 8 "" H -50 25  50  0001 C CNN "SPURL"
	1    8700 2100
	1    0    0    1   
$EndComp
$Comp
L R R40
U 1 1 58AE2AE1
P 7700 2400
F 0 "R40" V 7630 2400 50  0000 C CNN
F 1 "1M" V 7770 2400 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" H 7700 2400 50  0001 C CNN
F 3 "" H 7700 2400 50  0000 C CNN
F 4 "Yageo" H 50  275 50  0001 C CNN "MFR"
F 5 "RC0603FR-071ML" H 50  275 50  0001 C CNN "MPN"
F 6 "" H 50  275 50  0001 C CNN "SPR"
F 7 "" H 50  275 50  0001 C CNN "SPN"
F 8 "" H 50  275 50  0001 C CNN "SPURL"
	1    7700 2400
	1    0    0    1   
$EndComp
$Comp
L GND #PWR045
U 1 1 58AE3107
P 7700 3200
F 0 "#PWR045" H 7700 2950 50  0001 C CNN
F 1 "GND" H 7700 3050 50  0000 C CNN
F 2 "" H 7700 3200 50  0000 C CNN
F 3 "" H 7700 3200 50  0000 C CNN
	1    7700 3200
	1    0    0    -1  
$EndComp
$Comp
L MMBT3904 T2
U 1 1 58AE36FB
P 8600 2900
F 0 "T2" H 8800 2975 50  0000 L CNN
F 1 "MMBT3904" H 8800 2900 50  0000 L CNN
F 2 "TO_SOT_Packages_SMD:SOT-23" H 8800 2825 50  0001 L CIN
F 3 "" H 8600 2900 50  0001 L CNN
F 4 "Diodes Inc." H -50 -50 50  0001 C CNN "MFR"
F 5 "MMBT3904-7-F" H -50 -50 50  0001 C CNN "MPN"
F 6 "" H -50 -50 50  0001 C CNN "SPR"
F 7 "" H -50 -50 50  0001 C CNN "SPN"
F 8 "" H -50 -50 50  0001 C CNN "SPURL"
	1    8600 2900
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR046
U 1 1 58AE3C1B
P 8700 3200
F 0 "#PWR046" H 8700 2950 50  0001 C CNN
F 1 "GND" H 8700 3050 50  0000 C CNN
F 2 "" H 8700 3200 50  0000 C CNN
F 3 "" H 8700 3200 50  0000 C CNN
	1    8700 3200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR047
U 1 1 58AE3CBA
P 9300 3200
F 0 "#PWR047" H 9300 2950 50  0001 C CNN
F 1 "GND" H 9300 3050 50  0000 C CNN
F 2 "" H 9300 3200 50  0000 C CNN
F 3 "" H 9300 3200 50  0000 C CNN
	1    9300 3200
	1    0    0    -1  
$EndComp
$Comp
L R R45
U 1 1 58AE3E3D
P 8200 2900
F 0 "R45" V 8130 2900 50  0000 C CNN
F 1 "56k" V 8270 2900 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" H 8200 2900 50  0001 C CNN
F 3 "" H 8200 2900 50  0000 C CNN
F 4 "Yageo" H -50 -50 50  0001 C CNN "MFR"
F 5 "RC0603FR-0756KL" H -50 -50 50  0001 C CNN "MPN"
F 6 "" H -50 -50 50  0001 C CNN "SPR"
F 7 "" H -50 -50 50  0001 C CNN "SPN"
F 8 "" H -50 -50 50  0001 C CNN "SPURL"
	1    8200 2900
	0    -1   1    0   
$EndComp
$Comp
L C C36
U 1 1 58AE661C
P 9300 2700
F 0 "C36" H 9320 2770 50  0000 L CNN
F 1 "2.2u" H 9320 2630 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 9300 2700 50  0001 C CNN
F 3 "" H 9300 2700 50  0000 C CNN
F 4 "Murata" H -50 0   50  0001 C CNN "MFR"
F 5 "GRM188R60J225KE19D" H -50 0   50  0001 C CNN "MPN"
F 6 "" H -50 0   50  0001 C CNN "SPR"
F 7 "" H -50 0   50  0001 C CNN "SPN"
F 8 "" H -50 0   50  0001 C CNN "SPURL"
	1    9300 2700
	1    0    0    -1  
$EndComp
$Comp
L STM32F072CB U2
U 1 1 58BDEE38
P 3100 3400
F 0 "U2" H 3100 4950 50  0000 C CNN
F 1 "STM32F072CB" H 3100 1850 50  0000 C CNN
F 2 "Housings_QFP:LQFP-48_7x7mm_Pitch0.5mm" H 3200 3100 50  0001 R TNN
F 3 "" H 3100 3400 50  0001 C CNN
F 4 "STMicroelectronics" H -300 250 50  0001 C CNN "MFR"
F 5 "STM32F072CB" H -300 250 50  0001 C CNN "MPN"
	1    3100 3400
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR048
U 1 1 58C29FC4
P 4000 6600
F 0 "#PWR048" H 4000 6350 50  0001 C CNN
F 1 "GND" H 4000 6450 50  0000 C CNN
F 2 "" H 4000 6600 50  0000 C CNN
F 3 "" H 4000 6600 50  0000 C CNN
	1    4000 6600
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR049
U 1 1 58C2A17E
P 4000 6250
F 0 "#PWR049" H 4000 6100 50  0001 C CNN
F 1 "+3.3V" H 4000 6390 50  0000 C CNN
F 2 "" H 4000 6250 50  0000 C CNN
F 3 "" H 4000 6250 50  0000 C CNN
	1    4000 6250
	1    0    0    -1  
$EndComp
$Comp
L SW_PUSH SW1
U 1 1 58C38D27
P 7700 2950
F 0 "SW1" H 7700 2900 50  0000 C CNN
F 1 "SW_PUSH" H 7700 2820 50  0001 C CNN
F 2 "Buttons_Switches_THT:SW_PUSH_6mm" H 7600 2800 50  0001 C CNN
F 3 "" H 7700 2950 50  0000 C CNN
F 4 "" H 50  100 50  0001 C CNN "MFR"
F 5 "" H 50  100 50  0001 C CNN "MPN"
F 6 "" H 50  100 50  0001 C CNN "SPR"
F 7 "" H 50  100 50  0001 C CNN "SPN"
F 8 "" H 50  100 50  0001 C CNN "SPURL"
	1    7700 2950
	0    1    1    0   
$EndComp
$Comp
L PWR_FLAG #FLG050
U 1 1 58BFF095
P 1600 1600
F 0 "#FLG050" H 1600 1550 50  0001 C CNN
F 1 "PWR_FLAG" H 1600 1800 50  0000 C CNN
F 2 "" H 1600 1600 50  0000 C CNN
F 3 "" H 1600 1600 50  0000 C CNN
	1    1600 1600
	1    0    0    -1  
$EndComp
$Comp
L Rotary_Switch S1
U 1 1 58C4AAD2
P 2100 6500
F 0 "S1" H 2100 6850 50  0000 C CNN
F 1 "Rotary_Switch" H 2100 6250 50  0000 C CNN
F 2 "LibreSolar:Rotary_Switch_THT" H 2000 6750 50  0001 C CNN
F 3 "" H 2000 6700 50  0000 C CNN
F 4 "Wurth" H -150 -450 50  0001 C CNN "MFR"
F 5 "428527320908" H -150 -450 50  0001 C CNN "MPN"
F 6 "" H -150 -450 50  0001 C CNN "SPR"
F 7 "" H -150 -450 50  0001 C CNN "SPN"
F 8 "" H -150 -450 50  0001 C CNN "SPURL"
	1    2100 6500
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR051
U 1 1 58C4AB6F
P 2600 6700
F 0 "#PWR051" H 2600 6450 50  0001 C CNN
F 1 "GND" H 2600 6550 50  0000 C CNN
F 2 "" H 2600 6700 50  0000 C CNN
F 3 "" H 2600 6700 50  0000 C CNN
	1    2600 6700
	1    0    0    -1  
$EndComp
$Comp
L ST_Nucleo_SWD SWD1
U 1 1 58C4B6A9
P 4700 6550
F 0 "SWD1" H 4500 6950 50  0000 L CNN
F 1 "ST_Nucleo_SWD" H 4500 6150 50  0000 L CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x06_Pitch2.54mm" H 4700 5950 30  0001 C CIN
F 3 "" H 4850 6600 60  0001 C CNN
F 4 "" H -100 0   50  0001 C CNN "MFR"
F 5 "" H -100 0   50  0001 C CNN "MPN"
F 6 "" H -100 0   50  0001 C CNN "SPR"
F 7 "" H -100 0   50  0001 C CNN "SPN"
F 8 "" H -100 0   50  0001 C CNN "SPURL"
	1    4700 6550
	1    0    0    -1  
$EndComp
$Comp
L CONN_01X02 P1
U 1 1 58C4C05C
P 6000 6550
F 0 "P1" H 6000 6700 50  0000 C CNN
F 1 "CONN_01X02" V 6100 6550 50  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x02_Pitch2.54mm" H 6000 6550 50  0001 C CNN
F 3 "" H 6000 6550 50  0001 C CNN
F 4 "" H -200 0   50  0001 C CNN "MFR"
F 5 "" H -200 0   50  0001 C CNN "MPN"
F 6 "" H -200 0   50  0001 C CNN "SPR"
F 7 "" H -200 0   50  0001 C CNN "SPN"
F 8 "" H -200 0   50  0001 C CNN "SPURL"
	1    6000 6550
	1    0    0    -1  
$EndComp
$Comp
L LED LED1
U 1 1 58AE0EA3
P 9500 5300
AR Path="/58AE0EA3" Ref="LED1"  Part="1" 
AR Path="/58A68DCB/58AE0EA3" Ref="LED1"  Part="1" 
F 0 "LED1" H 9625 5350 50  0000 L CNN
F 1 "LED" H 9625 5250 50  0000 L CNN
F 2 "LEDs:LED_D3.0mm" V 9500 5300 50  0001 C CNN
F 3 "" V 9500 5300 50  0000 C CNN
	1    9500 5300
	1    0    0    -1  
$EndComp
$Comp
L CRYSTAL_SMD Y1
U 1 1 58C556C6
P 5150 1450
F 0 "Y1" H 5150 1540 50  0000 C CNN
F 1 "8kHz" H 5180 1340 50  0000 L CNN
F 2 "LibreSolar:Resonator_Murata_CSTCE" H 5150 1450 50  0001 C CNN
F 3 "" H 5150 1450 50  0001 C CNN
F 4 "Murata" H 50  -2900 50  0001 C CNN "MFR"
F 5 "CSTCE8M00G15C99-R0" H 50  -2900 50  0001 C CNN "MPN"
F 6 "" H 50  -2900 50  0001 C CNN "SPR"
F 7 "" H 50  -2900 50  0001 C CNN "SPN"
F 8 "" H 50  -2900 50  0001 C CNN "SPURL"
	1    5150 1450
	1    0    0    -1  
$EndComp
$Comp
L Crystal_NC23 Y2
U 1 1 58CC456D
P 5400 2300
F 0 "Y2" H 5500 2450 50  0000 L CNN
F 1 "ABS25-32.768KHZ-6-T" H 5500 2200 50  0000 L CNN
F 2 "Crystals:Crystal_SMD_SeikoEpson_MC306-4pin_8.0x3.2mm" H 5400 2300 50  0001 C CNN
F 3 "" H 5400 2300 50  0001 C CNN
F 4 "Abracon" H -350 250 50  0001 C CNN "MFR"
F 5 "ABS25-32.768KHZ-6-T" H -350 250 50  0001 C CNN "MPN"
F 6 "" H -350 250 50  0001 C CNN "SPR"
F 7 "" H -350 250 50  0001 C CNN "SPN"
F 8 "" H -350 250 50  0001 C CNN "SPURL"
	1    5400 2300
	1    0    0    -1  
$EndComp
Text Notes 9400 4400 0    100  ~ 0
Status LEDs
Text Notes 2600 1300 0    100  ~ 0
MCU STM32F072
Text Notes 5350 1900 0    50   ~ 0
Should be 0.1% tolerance\nfor CAN interface, e.g.\nCSTCE8M00G15C99-R0
Text Notes 3800 5900 0    100  ~ 0
STM Nucleo SWD and USART
Text Notes 9200 1850 0    50   ~ 0
Reset & boot switch\n- Press long (>2s) for USB bootloader\n  (BOOT0 cap charged)\n- Press short (<1s) for normal reset
Text Notes 7800 4900 0    50   ~ 0
min. 65 uA\noperating\ncurrent
Text Notes 7000 4400 0    100  ~ 0
Voltage reference
Text Notes 7650 1300 0    100  ~ 0
Reset and boot circuit
Text Label 4250 4100 2    50   ~ 0
LED1
Text Label 4250 4200 2    50   ~ 0
LED2
Text HLabel 4300 4000 2    50   Output ~ 0
TIM1_CH1N
Text HLabel 1700 3600 0    50   Output ~ 0
TIM1_CH1
Text Label 1800 3700 0    50   ~ 0
USART1_TX
Text Label 1800 3800 0    50   ~ 0
USART1_RX
Text Label 1800 4100 0    50   ~ 0
SWDIO
Text Label 1800 4200 0    50   ~ 0
SWCLK
Text HLabel 1700 3400 0    50   Input ~ 0
V_BAT
Text HLabel 1700 3500 0    50   Input ~ 0
V_SOLAR
Text Label 1800 2700 0    50   ~ 0
BOOT0
Text Label 1800 3300 0    50   ~ 0
V_REF
Text Label 1800 2600 0    50   ~ 0
OSC_IN
Text Label 4500 2000 2    50   ~ 0
OSC_OUT
Text Label 4500 2400 2    50   ~ 0
~RESET
Text Label 4600 1450 0    50   ~ 0
OSC_IN
Text Label 5750 1450 2    50   ~ 0
OSC_OUT
Text Label 7350 2600 0    50   ~ 0
~RESET
Text Label 4100 6600 0    50   ~ 0
SWDIO
Text Label 4100 6400 0    50   ~ 0
SWCLK
Text Label 5300 6500 0    50   ~ 0
USART1_TX
Text Label 5300 6600 0    50   ~ 0
USART1_RX
Text Label 4100 6700 0    50   ~ 0
~RESET
Text Label 9600 2300 2    50   ~ 0
BOOT0
Text HLabel 4300 2900 2    50   Output ~ 0
~LOAD_EN
Text Label 7900 5200 2    50   ~ 0
V_REF
Text Label 9500 4600 3    50   ~ 0
LED1
Text Label 10100 4600 3    50   ~ 0
LED2
Text HLabel 4300 2700 2    50   Input ~ 0
I_LOAD
Text HLabel 4300 2800 2    50   Input ~ 0
I_DCDC
Text HLabel 4300 3600 2    50   Output ~ 0
CAN_TX
Text HLabel 4300 3500 2    50   Input ~ 0
CAN_RX
Text HLabel 4300 3400 2    50   Input ~ 0
I2C1_SDA
Text HLabel 4300 3300 2    50   Input ~ 0
I2C1_SCL
Text HLabel 4300 3200 2    50   Input ~ 0
SPI1_MOSI
Text HLabel 4300 3100 2    50   Input ~ 0
SPI1_MISO
Text HLabel 4300 3000 2    50   Output ~ 0
SPI1_SCK
Text HLabel 4300 2100 2    50   Output ~ 0
SSEL
Text HLabel 1700 3900 0    50   Input ~ 0
USB_DM
Text HLabel 1700 4000 0    50   Input ~ 0
USB_DP
Text HLabel 1700 4300 0    50   Input ~ 0
CAN_STB
Text HLabel 1700 3200 0    50   Input ~ 0
REF_I_DCDC
Text HLabel 1700 3100 0    50   Input ~ 0
USART2_RX
Text HLabel 1700 3000 0    50   Input ~ 0
USART2_TX
Text HLabel 1700 2900 0    50   Input ~ 0
TEMP_INT
Text Label 4250 3700 2    50   ~ 0
ROT_0
Text Label 4250 3800 2    50   ~ 0
ROT_1
Text Label 4250 3900 2    50   ~ 0
ROT_2
Text Label 1400 6300 0    50   ~ 0
ROT_0
Text Label 1400 6400 0    50   ~ 0
ROT_1
Text Label 1400 6500 0    50   ~ 0
ROT_2
Text Notes 1600 5900 0    100  ~ 0
Mode switch
Text HLabel 4300 2500 2    50   Input ~ 0
TEMP_BAT
NoConn ~ 1700 6600
NoConn ~ 4400 6800
NoConn ~ 5400 2450
NoConn ~ 5400 2150
Wire Wire Line
	2200 2100 1950 2100
Wire Wire Line
	1950 2000 1950 2400
Wire Wire Line
	1950 2200 2200 2200
Wire Wire Line
	1950 2300 2200 2300
Wire Wire Line
	1950 2400 2200 2400
Wire Wire Line
	5450 4100 5450 4200
Wire Wire Line
	5100 4100 5100 4200
Wire Wire Line
	5800 4100 5800 4200
Wire Wire Line
	6150 4200 6150 4100
Wire Wire Line
	8700 1925 8700 2000
Wire Wire Line
	7500 4800 7500 4900
Wire Wire Line
	2200 2700 1800 2700
Wire Wire Line
	8700 2200 8700 2400
Wire Wire Line
	8700 2300 9600 2300
Wire Wire Line
	9300 2300 9300 2600
Wire Wire Line
	4000 3500 4300 3500
Wire Wire Line
	2200 4300 1700 4300
Wire Wire Line
	4000 3600 4300 3600
Wire Wire Line
	5450 4500 5450 4400
Wire Wire Line
	7300 3000 7300 3200
Wire Wire Line
	2200 4600 2100 4600
Wire Wire Line
	2100 4500 2100 4900
Wire Wire Line
	2200 4500 2100 4500
Wire Wire Line
	5100 4500 5100 4400
Wire Wire Line
	5800 4400 5800 4500
Wire Wire Line
	5100 2700 5100 2800
Wire Wire Line
	5700 2700 5700 2800
Wire Wire Line
	1450 2000 1450 2100
Wire Wire Line
	6150 4400 6150 4500
Wire Wire Line
	5150 1650 5150 1550
Wire Wire Line
	8700 3100 8700 3200
Wire Wire Line
	9300 2800 9300 3200
Wire Wire Line
	7500 5500 7500 5600
Wire Wire Line
	4000 3300 4300 3300
Wire Wire Line
	4000 3400 4300 3400
Wire Wire Line
	4000 3700 4250 3700
Wire Wire Line
	4000 3800 4250 3800
Wire Wire Line
	4000 2800 4300 2800
Wire Wire Line
	4000 2700 4300 2700
Wire Wire Line
	9500 4900 9500 4600
Wire Wire Line
	4000 4100 4250 4100
Wire Wire Line
	10100 4900 10100 4600
Wire Wire Line
	4000 4200 4250 4200
Wire Wire Line
	8300 2900 8400 2900
Wire Wire Line
	4000 2300 4700 2300
Wire Wire Line
	5100 2300 5100 2500
Wire Wire Line
	5700 2050 4600 2050
Wire Wire Line
	4600 2050 4600 2200
Wire Wire Line
	4600 2200 4000 2200
Wire Wire Line
	5700 2050 5700 2500
Wire Wire Line
	8700 2600 8700 2700
Wire Wire Line
	2200 2600 1800 2600
Wire Wire Line
	4000 2000 4500 2000
Wire Wire Line
	2200 3200 1700 3200
Wire Wire Line
	4000 3100 4300 3100
Wire Wire Line
	4000 3200 4300 3200
Wire Wire Line
	4000 3000 4300 3000
Wire Wire Line
	4000 2500 4300 2500
Wire Wire Line
	2200 4200 1800 4200
Wire Wire Line
	2200 4100 1800 4100
Wire Wire Line
	2200 2900 1700 2900
Wire Wire Line
	2200 3600 1700 3600
Wire Wire Line
	4000 4000 4300 4000
Wire Wire Line
	2200 3800 1800 3800
Wire Wire Line
	2200 3700 1800 3700
Wire Wire Line
	2200 3100 1700 3100
Wire Wire Line
	2200 3000 1700 3000
Wire Wire Line
	2200 3900 1700 3900
Wire Wire Line
	2200 4000 1700 4000
Wire Wire Line
	2200 3400 1700 3400
Wire Wire Line
	7500 5100 7500 5300
Wire Wire Line
	7500 5200 7900 5200
Wire Wire Line
	2200 3300 1800 3300
Wire Wire Line
	2200 3500 1700 3500
Wire Wire Line
	4000 2900 4300 2900
Wire Wire Line
	4000 2400 4500 2400
Wire Wire Line
	7300 2600 7300 2800
Wire Wire Line
	7300 2600 8000 2600
Wire Wire Line
	4600 1450 4950 1450
Wire Wire Line
	5350 1450 5750 1450
Wire Wire Line
	5300 6500 5800 6500
Wire Wire Line
	5300 6600 5800 6600
Wire Wire Line
	4000 6300 4400 6300
Wire Wire Line
	4000 6250 4000 6300
Wire Wire Line
	7700 3100 7700 3200
Wire Wire Line
	1300 1700 2100 1700
Wire Wire Line
	1450 1700 1450 1800
Wire Wire Line
	2100 1700 2100 2000
Wire Wire Line
	1000 1700 1100 1700
Wire Wire Line
	1000 1700 1000 1600
Wire Wire Line
	8000 2600 8000 2900
Wire Wire Line
	8000 2900 8100 2900
Wire Wire Line
	2200 4700 2100 4700
Wire Wire Line
	2200 4800 2100 4800
Wire Wire Line
	2100 2000 2200 2000
Wire Wire Line
	1600 1600 1600 1700
Wire Wire Line
	2500 6600 2600 6600
Wire Wire Line
	2600 6600 2600 6700
Wire Wire Line
	1700 6300 1400 6300
Wire Wire Line
	1700 6400 1400 6400
Wire Wire Line
	1700 6500 1400 6500
Wire Wire Line
	4400 6400 4100 6400
Wire Wire Line
	4400 6600 4100 6600
Wire Wire Line
	4400 6700 4100 6700
Wire Wire Line
	4400 6500 4000 6500
Wire Wire Line
	4000 6500 4000 6600
Wire Wire Line
	4000 3900 4250 3900
Wire Wire Line
	4900 2300 5250 2300
Wire Wire Line
	5550 2300 5700 2300
Wire Wire Line
	4000 2100 4300 2100
Connection ~ 1950 2100
Connection ~ 1950 2200
Connection ~ 1950 2300
Connection ~ 8700 2300
Connection ~ 9300 2300
Connection ~ 2100 4700
Connection ~ 2100 4800
Connection ~ 2100 4600
Connection ~ 5100 2300
Connection ~ 5700 2300
Connection ~ 7500 5200
Connection ~ 7700 2600
Connection ~ 1450 1700
Connection ~ 1600 1700
Wire Wire Line
	10100 5100 10100 5200
Wire Wire Line
	10100 5400 10100 5500
Wire Wire Line
	9500 5400 9500 5500
Wire Wire Line
	9500 5100 9500 5200
Wire Wire Line
	7700 2500 7700 2800
Wire Wire Line
	7700 2300 7700 2200
$EndSCHEMATC

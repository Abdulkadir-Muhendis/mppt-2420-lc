EESchema Schematic File Version 2
LIBS:LibreSolar
LIBS:device
LIBS:power
LIBS:linear
LIBS:logo
LIBS:conn
LIBS:ESD_Protection
LIBS:transistors
LIBS:regul
LIBS:dc-dc
LIBS:MPPT_charger_20A-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 3 5
Title "MPPT Charger 20A"
Date "2017-03-06"
Rev "0.7"
Comp "Libre Solar"
Comment1 "Author: Martin JÃ¤ger"
Comment2 "Website: http://libre.solar"
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L TEXAS_LM4041A12DBZ IC2
U 1 1 58A66599
P 7550 5450
F 0 "IC2" H 7660 5525 50  0000 L BNN
F 1 "LM4040CYM3-2.5" H 7660 5415 50  0000 L BNN
F 2 "TO_SOT_Packages_SMD:SOT-23" H 7540 5240 65  0001 L TNN
F 3 "" H 7550 5450 60  0001 C CNN
F 4 "Microchip" H 250 0   50  0001 C CNN "MFR"
F 5 "LM4040DYM3-2.5-TR" H 250 0   50  0001 C CNN "MPN"
F 6 "" H 250 0   50  0001 C CNN "SPR"
F 7 "" H 250 0   50  0001 C CNN "SPN"
F 8 "" H 250 0   50  0001 C CNN "SPURL"
	1    7550 5450
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR023
U 1 1 58A8CE31
P 7650 1850
F 0 "#PWR023" H 7650 1700 50  0001 C CNN
F 1 "+3.3V" H 7650 1990 50  0000 C CNN
F 2 "" H 7650 1850 50  0000 C CNN
F 3 "" H 7650 1850 50  0000 C CNN
	1    7650 1850
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR024
U 1 1 58A8D04B
P 8750 1825
F 0 "#PWR024" H 8750 1675 50  0001 C CNN
F 1 "+3.3V" H 8750 1965 50  0000 C CNN
F 2 "" H 8750 1825 50  0000 C CNN
F 3 "" H 8750 1825 50  0000 C CNN
	1    8750 1825
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR025
U 1 1 58A8D5E6
P 4950 4550
F 0 "#PWR025" H 4950 4300 50  0001 C CNN
F 1 "GND" H 4950 4400 50  0000 C CNN
F 2 "" H 4950 4550 50  0000 C CNN
F 3 "" H 4950 4550 50  0000 C CNN
	1    4950 4550
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR026
U 1 1 58A8D6E3
P 5300 4550
F 0 "#PWR026" H 5300 4300 50  0001 C CNN
F 1 "GND" H 5300 4400 50  0000 C CNN
F 2 "" H 5300 4550 50  0000 C CNN
F 3 "" H 5300 4550 50  0000 C CNN
	1    5300 4550
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR027
U 1 1 58A8D77B
P 5650 4550
F 0 "#PWR027" H 5650 4300 50  0001 C CNN
F 1 "GND" H 5650 4400 50  0000 C CNN
F 2 "" H 5650 4550 50  0000 C CNN
F 3 "" H 5650 4550 50  0000 C CNN
	1    5650 4550
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR028
U 1 1 58A8D813
P 6000 4550
F 0 "#PWR028" H 6000 4300 50  0001 C CNN
F 1 "GND" H 6000 4400 50  0000 C CNN
F 2 "" H 6000 4550 50  0000 C CNN
F 3 "" H 6000 4550 50  0000 C CNN
	1    6000 4550
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR029
U 1 1 58A8D8AB
P 1850 1800
F 0 "#PWR029" H 1850 1550 50  0001 C CNN
F 1 "GND" H 1850 1650 50  0000 C CNN
F 2 "" H 1850 1800 50  0000 C CNN
F 3 "" H 1850 1800 50  0000 C CNN
	1    1850 1800
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR030
U 1 1 58A8DF29
P 4950 3950
F 0 "#PWR030" H 4950 3800 50  0001 C CNN
F 1 "+3.3V" H 4950 4090 50  0000 C CNN
F 2 "" H 4950 3950 50  0000 C CNN
F 3 "" H 4950 3950 50  0000 C CNN
	1    4950 3950
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR031
U 1 1 58A8E026
P 5300 3950
F 0 "#PWR031" H 5300 3800 50  0001 C CNN
F 1 "+3.3V" H 5300 4090 50  0000 C CNN
F 2 "" H 5300 3950 50  0000 C CNN
F 3 "" H 5300 3950 50  0000 C CNN
	1    5300 3950
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR032
U 1 1 58A8E0BE
P 5650 3950
F 0 "#PWR032" H 5650 3800 50  0001 C CNN
F 1 "+3.3V" H 5650 4090 50  0000 C CNN
F 2 "" H 5650 3950 50  0000 C CNN
F 3 "" H 5650 3950 50  0000 C CNN
	1    5650 3950
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR033
U 1 1 58A8E156
P 6000 3950
F 0 "#PWR033" H 6000 3800 50  0001 C CNN
F 1 "+3.3V" H 6000 4090 50  0000 C CNN
F 2 "" H 6000 3950 50  0000 C CNN
F 3 "" H 6000 3950 50  0000 C CNN
	1    6000 3950
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR034
U 1 1 58A8F194
P 2050 4850
F 0 "#PWR034" H 2050 4600 50  0001 C CNN
F 1 "GND" H 2050 4700 50  0000 C CNN
F 2 "" H 2050 4850 50  0000 C CNN
F 3 "" H 2050 4850 50  0000 C CNN
	1    2050 4850
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR035
U 1 1 58A8F584
P 5100 1600
F 0 "#PWR035" H 5100 1350 50  0001 C CNN
F 1 "GND" H 5100 1450 50  0000 C CNN
F 2 "" H 5100 1600 50  0000 C CNN
F 3 "" H 5100 1600 50  0000 C CNN
	1    5100 1600
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR036
U 1 1 58A910CE
P 7550 5650
F 0 "#PWR036" H 7550 5400 50  0001 C CNN
F 1 "GND" H 7550 5500 50  0000 C CNN
F 2 "" H 7550 5650 50  0000 C CNN
F 3 "" H 7550 5650 50  0000 C CNN
	1    7550 5650
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR037
U 1 1 58A91352
P 7550 4575
F 0 "#PWR037" H 7550 4425 50  0001 C CNN
F 1 "+3.3V" H 7550 4715 50  0000 C CNN
F 2 "" H 7550 4575 50  0000 C CNN
F 3 "" H 7550 4575 50  0000 C CNN
	1    7550 4575
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR038
U 1 1 58A918EA
P 10300 5650
F 0 "#PWR038" H 10300 5400 50  0001 C CNN
F 1 "GND" H 10300 5500 50  0000 C CNN
F 2 "" H 10300 5650 50  0000 C CNN
F 3 "" H 10300 5650 50  0000 C CNN
	1    10300 5650
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR039
U 1 1 58A91B30
P 9500 5650
F 0 "#PWR039" H 9500 5400 50  0001 C CNN
F 1 "GND" H 9500 5500 50  0000 C CNN
F 2 "" H 9500 5650 50  0000 C CNN
F 3 "" H 9500 5650 50  0000 C CNN
	1    9500 5650
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR040
U 1 1 58A94580
P 1550 2000
F 0 "#PWR040" H 1550 1850 50  0001 C CNN
F 1 "+3.3V" H 1550 2140 50  0000 C CNN
F 2 "" H 1550 2000 50  0000 C CNN
F 3 "" H 1550 2000 50  0000 C CNN
	1    1550 2000
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR041
U 1 1 58A94885
P 1400 1350
F 0 "#PWR041" H 1400 1200 50  0001 C CNN
F 1 "+3.3V" H 1400 1490 50  0000 C CNN
F 2 "" H 1400 1350 50  0000 C CNN
F 3 "" H 1400 1350 50  0000 C CNN
	1    1400 1350
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR042
U 1 1 58A95F90
P 5100 2850
F 0 "#PWR042" H 5100 2600 50  0001 C CNN
F 1 "GND" H 5100 2700 50  0000 C CNN
F 2 "" H 5100 2850 50  0000 C CNN
F 3 "" H 5100 2850 50  0000 C CNN
	1    5100 2850
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR043
U 1 1 58A9602F
P 5700 2850
F 0 "#PWR043" H 5700 2600 50  0001 C CNN
F 1 "GND" H 5700 2700 50  0000 C CNN
F 2 "" H 5700 2850 50  0000 C CNN
F 3 "" H 5700 2850 50  0000 C CNN
	1    5700 2850
	1    0    0    -1  
$EndComp
$Comp
L L L4
U 1 1 58A97504
P 1600 1400
F 0 "L4" V 1550 1400 50  0000 C CNN
F 1 "L" V 1675 1400 50  0000 C CNN
F 2 "Inductors_SMD:L_0603" H 1600 1400 50  0001 C CNN
F 3 "" H 1600 1400 50  0001 C CNN
F 4 "Murata" H -350 200 50  0001 C CNN "MFR"
F 5 "BLM18AG601SN1D" H -350 200 50  0001 C CNN "MPN"
F 6 "" H -350 200 50  0001 C CNN "SPR"
F 7 "" H -350 200 50  0001 C CNN "SPN"
F 8 "" H -350 200 50  0001 C CNN "SPURL"
	1    1600 1400
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR044
U 1 1 58AB7879
P 7250 3250
F 0 "#PWR044" H 7250 3000 50  0001 C CNN
F 1 "GND" H 7250 3100 50  0000 C CNN
F 2 "" H 7250 3250 50  0000 C CNN
F 3 "" H 7250 3250 50  0000 C CNN
	1    7250 3250
	1    0    0    -1  
$EndComp
$Comp
L C C29
U 1 1 58AB7F87
P 7250 2900
F 0 "C29" H 7275 3000 50  0000 L CNN
F 1 "100n" H 7275 2800 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 7288 2750 50  0001 C CNN
F 3 "" H 7250 2900 50  0001 C CNN
F 4 "Murata" H 0   0   50  0001 C CNN "MFR"
F 5 "GRM188R71H104KA93D" H 0   0   50  0001 C CNN "MPN"
F 6 "" H 0   0   50  0001 C CNN "SPR"
F 7 "" H 0   0   50  0001 C CNN "SPN"
F 8 "" H 0   0   50  0001 C CNN "SPURL"
	1    7250 2900
	1    0    0    -1  
$EndComp
$Comp
L C C30
U 1 1 58AB8568
P 4950 4200
F 0 "C30" H 4975 4300 50  0000 L CNN
F 1 "100n" H 4975 4100 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 4988 4050 50  0001 C CNN
F 3 "" H 4950 4200 50  0001 C CNN
F 4 "Murata" H 3550 -1300 50  0001 C CNN "MFR"
F 5 "GRM188R71H104KA93D" H 3550 -1300 50  0001 C CNN "MPN"
F 6 "" H 3550 -1300 50  0001 C CNN "SPR"
F 7 "" H 3550 -1300 50  0001 C CNN "SPN"
F 8 "" H 3550 -1300 50  0001 C CNN "SPURL"
	1    4950 4200
	1    0    0    -1  
$EndComp
$Comp
L C C31
U 1 1 58AB8BE5
P 5300 4200
F 0 "C31" H 5325 4300 50  0000 L CNN
F 1 "100n" H 5325 4100 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 5338 4050 50  0001 C CNN
F 3 "" H 5300 4200 50  0001 C CNN
F 4 "Murata" H 3550 -1300 50  0001 C CNN "MFR"
F 5 "GRM188R71H104KA93D" H 3550 -1300 50  0001 C CNN "MPN"
F 6 "" H 3550 -1300 50  0001 C CNN "SPR"
F 7 "" H 3550 -1300 50  0001 C CNN "SPN"
F 8 "" H 3550 -1300 50  0001 C CNN "SPURL"
	1    5300 4200
	1    0    0    -1  
$EndComp
$Comp
L C C32
U 1 1 58AB8D4F
P 5650 4200
F 0 "C32" H 5675 4300 50  0000 L CNN
F 1 "100n" H 5675 4100 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 5688 4050 50  0001 C CNN
F 3 "" H 5650 4200 50  0001 C CNN
F 4 "Murata" H 3550 -1300 50  0001 C CNN "MFR"
F 5 "GRM188R71H104KA93D" H 3550 -1300 50  0001 C CNN "MPN"
F 6 "" H 3550 -1300 50  0001 C CNN "SPR"
F 7 "" H 3550 -1300 50  0001 C CNN "SPN"
F 8 "" H 3550 -1300 50  0001 C CNN "SPURL"
	1    5650 4200
	1    0    0    -1  
$EndComp
$Comp
L C C34
U 1 1 58AB8FDB
P 1850 1600
F 0 "C34" H 1875 1700 50  0000 L CNN
F 1 "100n" H 1875 1500 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 1888 1450 50  0001 C CNN
F 3 "" H 1850 1600 50  0001 C CNN
F 4 "Murata" H -350 200 50  0001 C CNN "MFR"
F 5 "GRM188R71H104KA93D" H -350 200 50  0001 C CNN "MPN"
F 6 "" H -350 200 50  0001 C CNN "SPR"
F 7 "" H -350 200 50  0001 C CNN "SPN"
F 8 "" H -350 200 50  0001 C CNN "SPURL"
	1    1850 1600
	1    0    0    -1  
$EndComp
$Comp
L C C33
U 1 1 58AB9291
P 6000 4200
F 0 "C33" H 6025 4300 50  0000 L CNN
F 1 "2.2u" H 6025 4100 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 6038 4050 50  0001 C CNN
F 3 "" H 6000 4200 50  0001 C CNN
F 4 "Murata" H 3550 -1300 50  0001 C CNN "MFR"
F 5 "GRM188R60J225KE19D" H 3550 -1300 50  0001 C CNN "MPN"
F 6 "" H 3550 -1300 50  0001 C CNN "SPR"
F 7 "" H 3550 -1300 50  0001 C CNN "SPN"
F 8 "" H 3550 -1300 50  0001 C CNN "SPURL"
	1    6000 4200
	1    0    0    -1  
$EndComp
$Comp
L C C28
U 1 1 58AB9A03
P 5700 2650
F 0 "C28" H 5725 2750 50  0000 L CNN
F 1 "4.3p" H 5725 2550 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 5738 2500 50  0001 C CNN
F 3 "" H 5700 2650 50  0001 C CNN
F 4 "Murata" H -350 200 50  0001 C CNN "MFR"
F 5 "GRM1885C1H4R3CA01D" H -350 200 50  0001 C CNN "MPN"
F 6 "" H -350 200 50  0001 C CNN "SPR"
F 7 "" H -350 200 50  0001 C CNN "SPN"
F 8 "" H -350 200 50  0001 C CNN "SPURL"
	1    5700 2650
	1    0    0    -1  
$EndComp
$Comp
L C C27
U 1 1 58AB9D23
P 5100 2650
F 0 "C27" H 4925 2750 50  0000 L CNN
F 1 "4.3p" H 4925 2550 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 5138 2500 50  0001 C CNN
F 3 "" H 5100 2650 50  0001 C CNN
F 4 "Murata" H -350 200 50  0001 C CNN "MFR"
F 5 "GRM1885C1H4R3CA01D" H -350 200 50  0001 C CNN "MPN"
F 6 "" H -350 200 50  0001 C CNN "SPR"
F 7 "" H -350 200 50  0001 C CNN "SPN"
F 8 "" H -350 200 50  0001 C CNN "SPURL"
	1    5100 2650
	1    0    0    -1  
$EndComp
$Comp
L R R30
U 1 1 58ABA3EB
P 4650 2250
F 0 "R30" V 4730 2250 50  0000 C CNN
F 1 "0" V 4650 2250 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 4580 2250 50  0001 C CNN
F 3 "" H 4650 2250 50  0001 C CNN
F 4 "Yageo" H -350 200 50  0001 C CNN "MFR"
F 5 "RC0603FR-070RL" H -350 200 50  0001 C CNN "MPN"
F 6 "" H -350 200 50  0001 C CNN "SPR"
F 7 "" H -350 200 50  0001 C CNN "SPN"
F 8 "" H -350 200 50  0001 C CNN "SPURL"
	1    4650 2250
	0    1    1    0   
$EndComp
$Comp
L R R42
U 1 1 58ADF91D
P 9500 4900
F 0 "R42" V 9580 4900 50  0000 C CNN
F 1 "330" V 9500 4900 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 9430 4900 50  0001 C CNN
F 3 "" H 9500 4900 50  0001 C CNN
F 4 "Yageo" H 0   0   50  0001 C CNN "MFR"
F 5 "RC0603FR-07330RL" H 0   0   50  0001 C CNN "MPN"
F 6 "" H 0   0   50  0001 C CNN "SPR"
F 7 "" H 0   0   50  0001 C CNN "SPN"
F 8 "" H 0   0   50  0001 C CNN "SPURL"
	1    9500 4900
	-1   0    0    1   
$EndComp
$Comp
L R R43
U 1 1 58ADFCF1
P 10300 4900
F 0 "R43" V 10380 4900 50  0000 C CNN
F 1 "330" V 10300 4900 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 10230 4900 50  0001 C CNN
F 3 "" H 10300 4900 50  0001 C CNN
F 4 "Yageo" H 0   0   50  0001 C CNN "MFR"
F 5 "RC0603FR-07330RL" H 0   0   50  0001 C CNN "MPN"
F 6 "" H 0   0   50  0001 C CNN "SPR"
F 7 "" H 0   0   50  0001 C CNN "SPN"
F 8 "" H 0   0   50  0001 C CNN "SPURL"
	1    10300 4900
	-1   0    0    1   
$EndComp
$Comp
L LED-RESCUE-MPPT_Charger_20A LED2
U 1 1 58AE11BD
P 10300 5350
AR Path="/58AE11BD" Ref="LED2"  Part="1" 
AR Path="/58A68DCB/58AE11BD" Ref="LED2"  Part="1" 
F 0 "LED2" H 10300 5450 50  0000 C CNN
F 1 "LED" H 10300 5250 50  0000 C CNN
F 2 "LEDs:LED_D3.0mm" H 10300 5350 50  0001 C CNN
F 3 "" H 10300 5350 50  0001 C CNN
F 4 "" H 200 -150 50  0001 C CNN "MFR"
F 5 "" H 200 -150 50  0001 C CNN "MPN"
F 6 "" H 200 -150 50  0001 C CNN "SPR"
F 7 "" H 200 -150 50  0001 C CNN "SPN"
F 8 "" H 200 -150 50  0001 C CNN "SPURL"
	1    10300 5350
	0    -1   -1   0   
$EndComp
$Comp
L R R37
U 1 1 58AE1DE5
P 7550 4875
F 0 "R37" V 7630 4875 50  0000 C CNN
F 1 "10k" V 7550 4875 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 7480 4875 50  0001 C CNN
F 3 "" H 7550 4875 50  0001 C CNN
F 4 "Yageo" H 250 0   50  0001 C CNN "MFR"
F 5 "RC0603FR-07150KL" H 250 0   50  0001 C CNN "MPN"
F 6 "" H 250 0   50  0001 C CNN "SPR"
F 7 "" H 250 0   50  0001 C CNN "SPN"
F 8 "" H 250 0   50  0001 C CNN "SPURL"
	1    7550 4875
	-1   0    0    1   
$EndComp
$Comp
L R R41
U 1 1 58AE2393
P 8750 2525
F 0 "R41" V 8830 2525 50  0000 C CNN
F 1 "2.2k" V 8750 2525 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 8680 2525 50  0001 C CNN
F 3 "" H 8750 2525 50  0001 C CNN
F 4 "Yageo" H 0   0   50  0001 C CNN "MFR"
F 5 "RC0603FR-072K2L" H 0   0   50  0001 C CNN "MPN"
F 6 "" H 0   0   50  0001 C CNN "SPR"
F 7 "" H 0   0   50  0001 C CNN "SPN"
F 8 "" H 0   0   50  0001 C CNN "SPURL"
	1    8750 2525
	-1   0    0    1   
$EndComp
$Comp
L R R39
U 1 1 58AE2797
P 8750 2075
F 0 "R39" V 8830 2075 50  0000 C CNN
F 1 "1M" V 8750 2075 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 8680 2075 50  0001 C CNN
F 3 "" H 8750 2075 50  0001 C CNN
F 4 "Yageo" H 0   0   50  0001 C CNN "MFR"
F 5 "RC0603FR-071ML" H 0   0   50  0001 C CNN "MPN"
F 6 "" H 0   0   50  0001 C CNN "SPR"
F 7 "" H 0   0   50  0001 C CNN "SPN"
F 8 "" H 0   0   50  0001 C CNN "SPURL"
	1    8750 2075
	-1   0    0    1   
$EndComp
$Comp
L R R40
U 1 1 58AE2AE1
P 7650 2125
F 0 "R40" V 7730 2125 50  0000 C CNN
F 1 "1M" V 7650 2125 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 7580 2125 50  0001 C CNN
F 3 "" H 7650 2125 50  0001 C CNN
F 4 "Yageo" H 0   0   50  0001 C CNN "MFR"
F 5 "RC0603FR-071ML" H 0   0   50  0001 C CNN "MPN"
F 6 "" H 0   0   50  0001 C CNN "SPR"
F 7 "" H 0   0   50  0001 C CNN "SPN"
F 8 "" H 0   0   50  0001 C CNN "SPURL"
	1    7650 2125
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR045
U 1 1 58AE3107
P 7650 3250
F 0 "#PWR045" H 7650 3000 50  0001 C CNN
F 1 "GND" H 7650 3100 50  0000 C CNN
F 2 "" H 7650 3250 50  0000 C CNN
F 3 "" H 7650 3250 50  0000 C CNN
	1    7650 3250
	1    0    0    -1  
$EndComp
$Comp
L MMBT3904 T2
U 1 1 58AE36FB
P 8650 2950
F 0 "T2" H 8850 3025 50  0000 L CNN
F 1 "MMBT3904" H 8850 2950 50  0000 L CNN
F 2 "TO_SOT_Packages_SMD:SOT-23" H 8850 2875 50  0001 L CIN
F 3 "" H 8650 2950 50  0001 L CNN
F 4 "Diodes Inc." H 0   0   50  0001 C CNN "MFR"
F 5 "MMBT3904-7-F" H 0   0   50  0001 C CNN "MPN"
F 6 "" H 0   0   50  0001 C CNN "SPR"
F 7 "" H 0   0   50  0001 C CNN "SPN"
F 8 "" H 0   0   50  0001 C CNN "SPURL"
	1    8650 2950
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR046
U 1 1 58AE3C1B
P 8750 3250
F 0 "#PWR046" H 8750 3000 50  0001 C CNN
F 1 "GND" H 8750 3100 50  0000 C CNN
F 2 "" H 8750 3250 50  0000 C CNN
F 3 "" H 8750 3250 50  0000 C CNN
	1    8750 3250
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR047
U 1 1 58AE3CBA
P 9350 3250
F 0 "#PWR047" H 9350 3000 50  0001 C CNN
F 1 "GND" H 9350 3100 50  0000 C CNN
F 2 "" H 9350 3250 50  0000 C CNN
F 3 "" H 9350 3250 50  0000 C CNN
	1    9350 3250
	1    0    0    -1  
$EndComp
$Comp
L R R45
U 1 1 58AE3E3D
P 8250 2950
F 0 "R45" V 8330 2950 50  0000 C CNN
F 1 "56k" V 8250 2950 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 8180 2950 50  0001 C CNN
F 3 "" H 8250 2950 50  0001 C CNN
F 4 "Yageo" H 0   0   50  0001 C CNN "MFR"
F 5 "RC0603FR-0756KL" H 0   0   50  0001 C CNN "MPN"
F 6 "" H 0   0   50  0001 C CNN "SPR"
F 7 "" H 0   0   50  0001 C CNN "SPN"
F 8 "" H 0   0   50  0001 C CNN "SPURL"
	1    8250 2950
	0    -1   -1   0   
$EndComp
$Comp
L C C36
U 1 1 58AE661C
P 9350 2700
F 0 "C36" H 9375 2800 50  0000 L CNN
F 1 "2.2u" H 9375 2600 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 9388 2550 50  0001 C CNN
F 3 "" H 9350 2700 50  0001 C CNN
F 4 "Murata" H 0   0   50  0001 C CNN "MFR"
F 5 "GRM188R60J225KE19D" H 0   0   50  0001 C CNN "MPN"
F 6 "" H 0   0   50  0001 C CNN "SPR"
F 7 "" H 0   0   50  0001 C CNN "SPN"
F 8 "" H 0   0   50  0001 C CNN "SPURL"
	1    9350 2700
	1    0    0    -1  
$EndComp
$Comp
L STM32F072CB U2
U 1 1 58BDEE38
P 3050 3350
F 0 "U2" H 3050 4900 50  0000 C CNN
F 1 "STM32F072CB" H 3050 1800 50  0000 C CNN
F 2 "Housings_QFP:LQFP-48_7x7mm_Pitch0.5mm" H 3150 3050 50  0001 R TNN
F 3 "" H 3050 3350 50  0001 C CNN
F 4 "STMicroelectronics" H -350 200 50  0001 C CNN "MFR"
F 5 "STM32F072CB" H -350 200 50  0001 C CNN "MPN"
	1    3050 3350
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR048
U 1 1 58C29FC4
P 3750 6700
F 0 "#PWR048" H 3750 6450 50  0001 C CNN
F 1 "GND" H 3750 6550 50  0000 C CNN
F 2 "" H 3750 6700 50  0000 C CNN
F 3 "" H 3750 6700 50  0000 C CNN
	1    3750 6700
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR049
U 1 1 58C2A17E
P 3750 6350
F 0 "#PWR049" H 3750 6200 50  0001 C CNN
F 1 "+3.3V" H 3750 6490 50  0000 C CNN
F 2 "" H 3750 6350 50  0000 C CNN
F 3 "" H 3750 6350 50  0000 C CNN
	1    3750 6350
	1    0    0    -1  
$EndComp
$Comp
L SW_PUSH SW1
U 1 1 58C38D27
P 7650 2850
F 0 "SW1" H 7800 2960 50  0000 C CNN
F 1 "SW_PUSH" H 7650 2770 50  0000 C CNN
F 2 "Buttons_Switches_THT:SW_PUSH_6mm" H 7650 2850 50  0001 C CNN
F 3 "" H 7650 2850 50  0001 C CNN
F 4 "" H 0   0   50  0001 C CNN "MFR"
F 5 "" H 0   0   50  0001 C CNN "MPN"
F 6 "" H 0   0   50  0001 C CNN "SPR"
F 7 "" H 0   0   50  0001 C CNN "SPN"
F 8 "" H 0   0   50  0001 C CNN "SPURL"
	1    7650 2850
	0    1    1    0   
$EndComp
$Comp
L PWR_FLAG #FLG050
U 1 1 58BFF095
P 2000 1300
F 0 "#FLG050" H 2000 1395 50  0001 C CNN
F 1 "PWR_FLAG" H 2000 1480 50  0000 C CNN
F 2 "" H 2000 1300 50  0000 C CNN
F 3 "" H 2000 1300 50  0000 C CNN
	1    2000 1300
	1    0    0    -1  
$EndComp
$Comp
L Rotary_Switch SW2
U 1 1 58C4AAD2
P 2050 6550
F 0 "SW2" H 1750 6850 50  0000 L CNN
F 1 "Rotary_Switch" H 2050 6250 50  0000 C CNN
F 2 "LibreSolar:Rotary_Switch_THT" H 2050 6500 50  0001 C CNN
F 3 "" H 1950 6700 50  0001 C CNN
F 4 "Wurth" H -200 -400 50  0001 C CNN "MFR"
F 5 "428527320908" H -200 -400 50  0001 C CNN "MPN"
F 6 "" H -200 -400 50  0001 C CNN "SPR"
F 7 "" H -200 -400 50  0001 C CNN "SPN"
F 8 "" H -200 -400 50  0001 C CNN "SPURL"
	1    2050 6550
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR051
U 1 1 58C4AB6F
P 2550 6750
F 0 "#PWR051" H 2550 6500 50  0001 C CNN
F 1 "GND" H 2550 6600 50  0000 C CNN
F 2 "" H 2550 6750 50  0000 C CNN
F 3 "" H 2550 6750 50  0000 C CNN
	1    2550 6750
	1    0    0    -1  
$EndComp
$Comp
L ST_Nucleo_SWD SWD1
U 1 1 58C4B6A9
P 4500 6650
F 0 "SWD1" H 4300 7050 50  0000 L CNN
F 1 "ST_Nucleo_SWD" H 4300 6250 50  0000 L CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x06_Pitch2.54mm" H 4500 6050 30  0001 C CIN
F 3 "" H 4650 6700 60  0001 C CNN
F 4 "" H -300 100 50  0001 C CNN "MFR"
F 5 "" H -300 100 50  0001 C CNN "MPN"
F 6 "" H -300 100 50  0001 C CNN "SPR"
F 7 "" H -300 100 50  0001 C CNN "SPN"
F 8 "" H -300 100 50  0001 C CNN "SPURL"
	1    4500 6650
	1    0    0    -1  
$EndComp
$Comp
L CONN_01X02 P1
U 1 1 58C4C05C
P 5900 6550
F 0 "P1" H 5900 6700 50  0000 C CNN
F 1 "CONN_01X02" V 6000 6550 50  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x02_Pitch2.54mm" H 5900 6550 50  0001 C CNN
F 3 "" H 5900 6550 50  0001 C CNN
F 4 "" H -300 0   50  0001 C CNN "MFR"
F 5 "" H -300 0   50  0001 C CNN "MPN"
F 6 "" H -300 0   50  0001 C CNN "SPR"
F 7 "" H -300 0   50  0001 C CNN "SPN"
F 8 "" H -300 0   50  0001 C CNN "SPURL"
	1    5900 6550
	1    0    0    -1  
$EndComp
$Comp
L LED-RESCUE-MPPT_Charger_20A LED1
U 1 1 58AE0EA3
P 9500 5350
AR Path="/58AE0EA3" Ref="LED1"  Part="1" 
AR Path="/58A68DCB/58AE0EA3" Ref="LED1"  Part="1" 
F 0 "LED1" H 9500 5450 50  0000 C CNN
F 1 "LED" H 9500 5250 50  0000 C CNN
F 2 "LEDs:LED_D3.0mm" H 9500 5350 50  0001 C CNN
F 3 "" H 9500 5350 50  0001 C CNN
F 4 "" H 200 -150 50  0001 C CNN "MFR"
F 5 "" H 200 -150 50  0001 C CNN "MPN"
F 6 "" H 200 -150 50  0001 C CNN "SPR"
F 7 "" H 200 -150 50  0001 C CNN "SPN"
F 8 "" H 200 -150 50  0001 C CNN "SPURL"
	1    9500 5350
	0    -1   -1   0   
$EndComp
$Comp
L CRYSTAL_SMD Y1
U 1 1 58C556C6
P 5100 1400
F 0 "Y1" H 5100 1490 50  0000 C CNN
F 1 "8kHz" H 5130 1290 50  0000 L CNN
F 2 "LibreSolar:Resonator_Murata_CSTCE" H 5100 1400 50  0001 C CNN
F 3 "" H 5100 1400 50  0001 C CNN
F 4 "Murata" H 0   -2950 50  0001 C CNN "MFR"
F 5 "CSTCE8M00G15C99-R0" H 0   -2950 50  0001 C CNN "MPN"
F 6 "" H 0   -2950 50  0001 C CNN "SPR"
F 7 "" H 0   -2950 50  0001 C CNN "SPN"
F 8 "" H 0   -2950 50  0001 C CNN "SPURL"
	1    5100 1400
	1    0    0    -1  
$EndComp
$Comp
L Crystal_NC23 Y2
U 1 1 58CC456D
P 5400 2250
F 0 "Y2" H 5500 2400 50  0000 L CNN
F 1 "ABS25-32.768KHZ-6-T" H 5500 2150 50  0000 L CNN
F 2 "Crystals:Crystal_SMD_SeikoEpson_MC306-4pin_8.0x3.2mm" H 5400 2250 50  0001 C CNN
F 3 "" H 5400 2250 50  0001 C CNN
F 4 "Abracon" H -350 200 50  0001 C CNN "MFR"
F 5 "ABS25-32.768KHZ-6-T" H -350 200 50  0001 C CNN "MPN"
F 6 "" H -350 200 50  0001 C CNN "SPR"
F 7 "" H -350 200 50  0001 C CNN "SPN"
F 8 "" H -350 200 50  0001 C CNN "SPURL"
	1    5400 2250
	1    0    0    -1  
$EndComp
Text Notes 9400 4200 0    100  ~ 0
Status LEDs
Text Notes 2550 1250 0    100  ~ 0
MCU STM32F072
Text Notes 5300 1850 0    50   ~ 0
Should be 0.1% tolerance\nfor CAN interface, e.g.\nCSTCE8M00G15C99-R0
Text Notes 3750 5850 0    100  ~ 0
STM Nucleo SWD and USART
Text Notes 9250 1850 0    50   ~ 0
Reset & boot switch\n- Press long (>2s) for USB bootloader\n  (BOOT0 cap charged)\n- Press short (<1s) for normal reset
Text Notes 7350 6150 0    50   ~ 0
min. 65 uA operating\ncurrent needed
Text Notes 7000 4200 0    100  ~ 0
Voltage reference
Text Notes 7650 1300 0    100  ~ 0
Reset and boot circuit
Text Label 4200 4050 2    50   ~ 0
LED1
Text Label 4200 4150 2    50   ~ 0
LED2
Text HLabel 4250 3950 2    50   Output ~ 0
TIM1_CH1N
Text HLabel 1650 3550 0    50   Output ~ 0
TIM1_CH1
Text Label 1700 3650 0    50   ~ 0
USART1_TX
Text Label 1700 3750 0    50   ~ 0
USART1_RX
Text Label 1700 4050 0    50   ~ 0
SWDIO
Text Label 1700 4150 0    50   ~ 0
SWCLK
Text HLabel 1650 3350 0    50   Input ~ 0
V_BAT
Text HLabel 1650 3450 0    50   Input ~ 0
V_SOLAR
Text Label 1600 2650 0    50   ~ 0
BOOT0
Text Label 1700 3250 0    50   ~ 0
V_REF
Text Label 1600 2550 0    50   ~ 0
OSC_IN
Text Label 4450 1950 2    50   ~ 0
OSC_OUT
Text Label 4450 2350 2    50   ~ 0
~RESET
Text Label 4550 1400 0    50   ~ 0
OSC_IN
Text Label 5700 1400 2    50   ~ 0
OSC_OUT
Text Label 7300 2450 0    50   ~ 0
~RESET
Text Label 3900 6700 0    50   ~ 0
SWDIO
Text Label 3900 6500 0    50   ~ 0
SWCLK
Text Label 5250 6500 0    50   ~ 0
USART1_TX
Text Label 5250 6600 0    50   ~ 0
USART1_RX
Text Label 3900 6800 0    50   ~ 0
~RESET
Text Label 9650 2300 2    50   ~ 0
BOOT0
Text HLabel 4250 2850 2    50   Output ~ 0
~LOAD_EN
Text Label 7950 5150 2    50   ~ 0
V_REF
Text Label 9400 4550 0    60   ~ 0
LED1
Text Label 10200 4550 0    60   ~ 0
LED2
Text HLabel 4250 2650 2    50   Input ~ 0
I_LOAD
Text HLabel 4250 2750 2    50   Input ~ 0
I_DCDC
Text HLabel 4250 3550 2    50   Output ~ 0
CAN_TX
Text HLabel 4250 3450 2    50   Input ~ 0
CAN_RX
Text HLabel 4250 3350 2    50   Input ~ 0
I2C1_SDA
Text HLabel 4250 3250 2    50   Input ~ 0
I2C1_SCL
Text HLabel 4250 3150 2    50   Input ~ 0
SPI1_MOSI
Text HLabel 4250 3050 2    50   Input ~ 0
SPI1_MISO
Text HLabel 4250 2950 2    50   Output ~ 0
SPI1_SCK
Text HLabel 4250 2050 2    50   Output ~ 0
SSEL
Text HLabel 1650 3850 0    50   Input ~ 0
USB_DM
Text HLabel 1650 3950 0    50   Input ~ 0
USB_DP
Text HLabel 1650 4250 0    50   Input ~ 0
CAN_STB
Text HLabel 1650 3150 0    50   Input ~ 0
REF_I_DCDC
Text HLabel 1650 3050 0    50   Input ~ 0
USART2_RX
Text HLabel 1650 2950 0    50   Input ~ 0
USART2_TX
Text HLabel 1650 2850 0    50   Input ~ 0
TEMP_INT
Text Label 4200 3650 2    50   ~ 0
ROT_0
Text Label 4200 3750 2    50   ~ 0
ROT_1
Text Label 4200 3850 2    50   ~ 0
ROT_2
Text Label 1300 6400 0    50   ~ 0
ROT_0
Text Label 1300 6500 0    50   ~ 0
ROT_1
Text Label 1300 6600 0    50   ~ 0
ROT_2
Text Notes 1600 5850 0    100  ~ 0
Mode switch
Text Notes 1000 1650 0    50   ~ 0
L4: Murata\nBLM18AG601SN1D
Text HLabel 4250 2450 2    50   Input ~ 0
TEMP_BAT
Wire Wire Line
	2150 2050 1550 2050
Wire Wire Line
	1550 2000 1550 2350
Wire Wire Line
	1550 2150 2150 2150
Wire Wire Line
	1550 2250 2150 2250
Wire Wire Line
	1550 2350 2150 2350
Wire Wire Line
	5300 3950 5300 4050
Wire Wire Line
	4950 3950 4950 4050
Wire Wire Line
	5650 3950 5650 4050
Wire Wire Line
	6000 4050 6000 3950
Wire Wire Line
	8750 1825 8750 1925
Wire Wire Line
	7650 1975 7650 1850
Wire Wire Line
	7550 4575 7550 4725
Wire Wire Line
	2150 2650 1600 2650
Wire Wire Line
	8750 2225 8750 2375
Wire Wire Line
	8750 2300 9650 2300
Wire Wire Line
	9350 2300 9350 2550
Wire Wire Line
	3950 3450 4250 3450
Wire Wire Line
	2150 4250 1650 4250
Wire Wire Line
	3950 3550 4250 3550
Wire Wire Line
	5300 4550 5300 4350
Wire Wire Line
	7250 3250 7250 3050
Wire Wire Line
	2150 4550 2050 4550
Wire Wire Line
	2050 4450 2050 4850
Wire Wire Line
	2150 4450 2050 4450
Wire Wire Line
	4950 4550 4950 4350
Wire Wire Line
	5650 4350 5650 4550
Wire Wire Line
	5100 2850 5100 2800
Wire Wire Line
	5700 2850 5700 2800
Wire Wire Line
	1850 1750 1850 1800
Wire Wire Line
	6000 4350 6000 4550
Wire Wire Line
	5100 1600 5100 1500
Wire Wire Line
	8750 3150 8750 3250
Wire Wire Line
	9350 2850 9350 3250
Wire Wire Line
	7550 5550 7550 5650
Wire Wire Line
	3950 3250 4250 3250
Wire Wire Line
	3950 3350 4250 3350
Wire Wire Line
	3950 3650 4200 3650
Wire Wire Line
	3950 3750 4200 3750
Wire Wire Line
	3950 2750 4250 2750
Wire Wire Line
	3950 2650 4250 2650
Wire Wire Line
	9500 4750 9500 4550
Wire Wire Line
	9500 4550 9400 4550
Wire Wire Line
	3950 4050 4200 4050
Wire Wire Line
	10300 4750 10300 4550
Wire Wire Line
	10300 4550 10200 4550
Wire Wire Line
	3950 4150 4200 4150
Wire Wire Line
	8400 2950 8450 2950
Wire Wire Line
	3950 2250 4500 2250
Wire Wire Line
	5100 2250 5100 2500
Wire Wire Line
	5700 2000 4650 2000
Wire Wire Line
	4650 2000 4650 2150
Wire Wire Line
	4650 2150 3950 2150
Wire Wire Line
	5700 2000 5700 2500
Wire Wire Line
	8750 2750 8750 2675
Wire Wire Line
	2150 2550 1600 2550
Wire Wire Line
	3950 1950 4450 1950
Wire Wire Line
	2150 3150 1650 3150
Wire Wire Line
	3950 3050 4250 3050
Wire Wire Line
	3950 3150 4250 3150
Wire Wire Line
	3950 2950 4250 2950
Wire Wire Line
	3950 2450 4250 2450
Wire Wire Line
	2150 4150 1700 4150
Wire Wire Line
	2150 4050 1700 4050
Wire Wire Line
	2150 2850 1650 2850
Wire Wire Line
	2150 3550 1650 3550
Wire Wire Line
	3950 3950 4250 3950
Wire Wire Line
	2150 3750 1700 3750
Wire Wire Line
	2150 3650 1700 3650
Wire Wire Line
	2150 3050 1650 3050
Wire Wire Line
	2150 2950 1650 2950
Wire Wire Line
	2150 3850 1650 3850
Wire Wire Line
	2150 3950 1650 3950
Wire Wire Line
	2150 3350 1650 3350
Wire Wire Line
	7550 5025 7550 5350
Wire Wire Line
	7550 5150 7950 5150
Wire Wire Line
	2150 3250 1700 3250
Wire Wire Line
	2150 3450 1650 3450
Wire Wire Line
	3950 2850 4250 2850
Wire Wire Line
	3950 2350 4450 2350
Wire Wire Line
	7250 2450 7250 2750
Wire Wire Line
	7250 2450 8050 2450
Wire Wire Line
	7650 2275 7650 2550
Wire Wire Line
	4550 1400 4900 1400
Wire Wire Line
	5300 1400 5700 1400
Wire Wire Line
	5250 6500 5700 6500
Wire Wire Line
	5250 6600 5700 6600
Wire Wire Line
	3750 6400 4150 6400
Wire Wire Line
	3750 6350 3750 6400
Wire Wire Line
	7650 3150 7650 3250
Wire Wire Line
	1750 1400 2100 1400
Wire Wire Line
	1850 1400 1850 1450
Wire Wire Line
	2100 1400 2100 1950
Wire Wire Line
	1450 1400 1400 1400
Wire Wire Line
	1400 1400 1400 1350
Wire Wire Line
	8050 2450 8050 2950
Wire Wire Line
	8050 2950 8100 2950
Wire Wire Line
	2150 4650 2050 4650
Wire Wire Line
	2150 4750 2050 4750
Wire Wire Line
	2100 1950 2150 1950
Wire Wire Line
	2000 1300 2000 1400
Wire Wire Line
	2450 6700 2550 6700
Wire Wire Line
	2550 6700 2550 6750
Wire Wire Line
	1650 6400 1300 6400
Wire Wire Line
	1650 6500 1300 6500
Wire Wire Line
	1650 6600 1300 6600
Wire Wire Line
	4150 6500 3900 6500
Wire Wire Line
	4150 6700 3900 6700
Wire Wire Line
	4150 6800 3900 6800
Wire Wire Line
	4150 6600 3750 6600
Wire Wire Line
	3750 6600 3750 6700
Wire Wire Line
	3950 3850 4200 3850
Wire Wire Line
	4800 2250 5250 2250
Wire Wire Line
	5550 2250 5700 2250
Wire Wire Line
	3950 2050 4250 2050
Connection ~ 1550 2050
Connection ~ 1550 2150
Connection ~ 1550 2250
Connection ~ 8750 2300
Connection ~ 9350 2300
Connection ~ 2050 4650
Connection ~ 2050 4750
Connection ~ 2050 4550
Connection ~ 5100 2250
Connection ~ 5700 2250
Connection ~ 7550 5150
Connection ~ 7650 2450
Connection ~ 1850 1400
Connection ~ 2000 1400
NoConn ~ 1650 6700
NoConn ~ 4150 6900
NoConn ~ 5400 2400
NoConn ~ 5400 2100
Wire Wire Line
	10300 5050 10300 5200
Wire Wire Line
	10300 5500 10300 5650
Wire Wire Line
	9500 5500 9500 5650
Wire Wire Line
	9500 5050 9500 5200
$EndSCHEMATC
